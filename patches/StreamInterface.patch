diff -ruN a/plugin/locale/fr/LC_MESSAGES/StreamInterface.po b/plugin/locale/fr/LC_MESSAGES/StreamInterface.po
--- a/plugin/locale/fr/LC_MESSAGES/StreamInterface.po	2020-06-22 20:23:14.000000000 +0300
+++ b/plugin/locale/fr/LC_MESSAGES/StreamInterface.po	1970-01-01 03:00:00.000000000 +0300
@@ -1,70 +0,0 @@
-# Language fr/LC translations for e package.
-# Copyright (C) 2018 THE e'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the e package.
-# Automatically generated, 2018.
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: e 2openplugin-StreamInterface\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2018-07-30 09:15+0200\n"
-"PO-Revision-Date: 2018-07-30 13:44+0200\n"
-"Last-Translator: Automatically generated\n"
-"Language-Team: none\n"
-"Language: fr\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Generator: Poedit 2.1.1\n"
-
-#: ../plugin.py:34
-msgid "Cancel"
-msgstr "Annuler"
-
-#: ../plugin.py:83
-msgid ""
-"Create file any name.m3u --> write text 'http://your-ip-box:port/<current> "
-"or standby <current?tv|current?radio>'"
-msgstr ""
-"Créer n'importe quel nom de fichier.m3u --> écrire le texte 'http://your-"
-"ip-box:port/current ou en veille <current?tv|current?radio>'"
-
-#: ../plugin.py:68
-msgid "Http port"
-msgstr "Port HTTP"
-
-#: ../plugin.py:82
-msgid "Open browser --> set url 'http://your-ip-box:port'"
-msgstr "Ouvrir le navigateur --> définir l'url 'http://your-ip-box:port'"
-
-#: ../plugin.py:35
-msgid "Save/OK"
-msgstr "Enregistrer/OK"
-
-#: ../plugin.py:236
-msgid "Set port and type streaming"
-msgstr "Définir le port et le type de streaming"
-
-#: ../plugin.py:32 ../plugin.py:235
-msgid "Setup StreamInterface"
-msgstr "Configurer StreamInterface"
-
-#: ../plugin.py:67
-msgid "StreamInterface enabled"
-msgstr "StreamInterface activé"
-
-#: ../plugin.py:69
-msgid "Type stream for services"
-msgstr "Type de flux pour les services"
-
-#: ../plugin.py:17
-msgid "both"
-msgstr "les deux"
-
-#: ../plugin.py:17
-msgid "bouquets/services lists"
-msgstr "listes bouquets/services"
-
-#: ../plugin.py:17
-msgid "current service"
-msgstr "service actuel"
diff -ruN a/plugin/locale/lt/LC_MESSAGES/StreamInterface.po b/plugin/locale/lt/LC_MESSAGES/StreamInterface.po
--- a/plugin/locale/lt/LC_MESSAGES/StreamInterface.po	2020-06-22 20:23:14.000000000 +0300
+++ b/plugin/locale/lt/LC_MESSAGES/StreamInterface.po	1970-01-01 03:00:00.000000000 +0300
@@ -1,58 +0,0 @@
-msgid ""
-msgstr ""
-"Project-Id-Version: StreamInterface\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-28 19:54+0100\n"
-"PO-Revision-Date: 2017-11-15 13:51+0200\n"
-"Language-Team: Vytenis P. vyteniui@gmail.com\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"Last-Translator: Vytenis P. <vyteniui@gmail.com>\n"
-"Language: lt\n"
-"X-Generator: Poedit 2.0.4\n"
-"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && (n"
-"%100<10 || n%100>=20) ? 1 : 2);\n"
-"X-Poedit-SourceCharset: UTF-8\n"
-
-msgid "Cancel"
-msgstr "Atšaukti"
-
-msgid ""
-"Create file any name.m3u --> write text 'http://your-ip-box:port/<current> "
-"or standby <current?tv|current?radio>'"
-msgstr ""
-"Sukurkite faibą bet_koks.m3u --> įrašykite bandymui 'http://jūsų_imtuvo_IP:"
-"prievadas/<current> , arba budėjimo režime <current?tv|current?radio>'"
-
-msgid "Http port"
-msgstr "Http prievadas"
-
-msgid "Open browser --> set url 'http://your-ip-box:port'"
-msgstr ""
-"Atverkite naršyklę --> adresų juostoje įrašykite 'http://jūsų_imtuvo_IP:"
-"prievadas'"
-
-msgid "Save/OK"
-msgstr "Įrašyti/ОК"
-
-msgid "Set port and type streaming"
-msgstr "Transliacijos srauto prievadas ir tipas"
-
-msgid "Setup StreamInterface"
-msgstr "StreamInterface sąranka"
-
-msgid "StreamInterface enabled"
-msgstr "Įjungti StreamInterface"
-
-msgid "Type stream for services"
-msgstr "Transliacijos srauto tipas kanalams"
-
-msgid "both"
-msgstr "abu"
-
-msgid "bouquets/services lists"
-msgstr "bukietai/kanalų sąrašai"
-
-msgid "current service"
-msgstr "dabartinis kanalas"
diff -ruN a/plugin/locale/ru/LC_MESSAGES/StreamInterface.po b/plugin/locale/ru/LC_MESSAGES/StreamInterface.po
--- a/plugin/locale/ru/LC_MESSAGES/StreamInterface.po	2020-06-22 20:23:14.000000000 +0300
+++ b/plugin/locale/ru/LC_MESSAGES/StreamInterface.po	1970-01-01 03:00:00.000000000 +0300
@@ -1,53 +0,0 @@
-msgid ""
-msgstr ""
-"Project-Id-Version: \n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-28 19:54+0100\n"
-"PO-Revision-Date: 2015-09-14 22:56+0300\n"
-"Language-Team: LANGUAGE <Dima-73@inbox.lv>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"Last-Translator: Dimitrij <Dima-73@inbox.lv>\n"
-"Language: ru_RU\n"
-"X-Generator: Poedit 1.8.4\n"
-
-msgid "Cancel"
-msgstr "Отмена"
-
-msgid ""
-"Create file any name.m3u --> write text 'http://your-ip-box:port/<current> "
-"or standby <current?tv|current?radio>'"
-msgstr ""
-"Создайте файл любое имя.m3u --> впишите тест 'http://айпи-ресивера:порт/"
-"<current> или в режиме ожидания <current?tv|current?radio>'"
-
-msgid "Http port"
-msgstr "Http порт"
-
-msgid "Open browser --> set url 'http://your-ip-box:port'"
-msgstr "Открыть браузер --> ввести url 'http://айпи-ресивера:порт'"
-
-msgid "Save/OK"
-msgstr "Сохранить/ОК"
-
-msgid "Set port and type streaming"
-msgstr "Установка порта и типа стриминга"
-
-msgid "Setup StreamInterface"
-msgstr "Настройки StreamInterface"
-
-msgid "StreamInterface enabled"
-msgstr "Включить StreamInterface"
-
-msgid "Type stream for services"
-msgstr "Тип стрима для сервисов"
-
-msgid "both"
-msgstr "оба типа"
-
-msgid "bouquets/services lists"
-msgstr "списки букеты/сервисы"
-
-msgid "current service"
-msgstr "текущий сервис"
diff -ruN a/plugin/locale/StreamInterface.pot b/plugin/locale/StreamInterface.pot
--- a/plugin/locale/StreamInterface.pot	2020-06-22 20:23:14.000000000 +0300
+++ b/plugin/locale/StreamInterface.pot	1970-01-01 03:00:00.000000000 +0300
@@ -1,66 +0,0 @@
-# SOME DESCRIPTIVE TITLE.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the PACKAGE package.
-# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
-#
-#, fuzzy
-msgid ""
-msgstr ""
-"Project-Id-Version: PACKAGE VERSION\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2018-07-30 09:15+0200\n"
-"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
-"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
-"Language-Team: LANGUAGE <LL@li.org>\n"
-"Language: \n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-
-#: ../plugin.py:34
-msgid "Cancel"
-msgstr ""
-
-#: ../plugin.py:83
-msgid "Create file any name.m3u --> write text 'http://your-ip-box:port/<current> or standby <current?tv|current?radio>'"
-msgstr ""
-
-#: ../plugin.py:68
-msgid "Http port"
-msgstr ""
-
-#: ../plugin.py:82
-msgid "Open browser --> set url 'http://your-ip-box:port'"
-msgstr ""
-
-#: ../plugin.py:35
-msgid "Save/OK"
-msgstr ""
-
-#: ../plugin.py:236
-msgid "Set port and type streaming"
-msgstr ""
-
-#: ../plugin.py:32 ../plugin.py:235
-msgid "Setup StreamInterface"
-msgstr ""
-
-#: ../plugin.py:67
-msgid "StreamInterface enabled"
-msgstr ""
-
-#: ../plugin.py:69
-msgid "Type stream for services"
-msgstr ""
-
-#: ../plugin.py:17
-msgid "both"
-msgstr ""
-
-#: ../plugin.py:17
-msgid "bouquets/services lists"
-msgstr ""
-
-#: ../plugin.py:17
-msgid "current service"
-msgstr ""
diff -ruN a/plugin/locale/updateallpo.sh b/plugin/locale/updateallpo.sh
--- a/plugin/locale/updateallpo.sh	2020-06-22 20:23:14.000000000 +0300
+++ b/plugin/locale/updateallpo.sh	1970-01-01 03:00:00.000000000 +0300
@@ -1,51 +0,0 @@
-#!/bin/bash
-# Script to generate po files outside of the normal build process
-#  
-# Pre-requisite:
-# The following tools must be installed on your system and accessible from path
-# gawk, find, xgettext, gsed, python, msguniq, msgmerge, msgattrib, msgfmt, msginit
-#
-# Run this script from within the locale folder.
-#
-# Author: Pr2
-# Version: 1.0
-#
-Plugin=StreamInterface
-FilePath=/LC_MESSAGES/
-printf "Po files update/creation from script starting.\n"
-languages=($(ls -d ./*/ | gsed 's/\/$//g; s/.*\///g'))
-
-#
-# Arguments to generate the pot and po files are not retrieved from the Makefile.
-# So if parameters are changed in Makefile please report the same changes in this script.
-#
-
-printf "Creating temporary file $Plugin-py.pot\n"
-find -s -X .. -name "*.py" -exec xgettext --no-wrap -L Python --from-code=UTF-8 -kpgettext:1c,2 --add-comments="TRANSLATORS:" -d $Plugin -s -o $Plugin-py.pot {} \+
-gsed --in-place $Plugin-py.pot --expression=s/CHARSET/UTF-8/
-printf "Creating temporary file $Plugin-xml.pot\n"
-find -s -X .. -name "*.xml" -exec python xml2po.py {} \+ > $Plugin-xml.pot
-printf "Merging pot files to create: $Plugin.pot\n"
-cat $Plugin-py.pot $Plugin-xml.pot | msguniq --no-wrap -o $Plugin.pot -
-OLDIFS=$IFS
-IFS=" "
-for lang in "${languages[@]}" ; do
-	if [ -f $lang$FilePath$Plugin.po ]; then 
-		printf "Updating existing translation file %s.po\n" $lang
-		msgmerge --backup=none --no-wrap -s -U $lang$FilePath$Plugin.po $Plugin.pot && touch $lang$FilePath$Plugin.po
-		msgattrib --no-wrap --no-obsolete $lang$FilePath$Plugin.po -o $lang$FilePath$Plugin.po
-		msgfmt -o $lang$FilePath$Plugin.mo $lang$FilePath$Plugin.po
-	else
-		if [ ! -d $lang$FilePath ]; then
-			mkdir $lang$FilePath
-		fi
-		printf "New file created: %s, please add it to github before commit\n" $lang$FilePath$Plugin.po
-		msginit -l $lang$FilePath$Plugin.po -o $lang$FilePath$Plugin.po -i $Plugin.pot --no-translator
-		msgfmt -o $lang$FilePath$Plugin.mo $lang$FilePath$Plugin.po
-	fi
-done
-rm $Plugin-py.pot $Plugin-xml.pot
-IFS=$OLDIFS
-printf "Po files update/creation from script finished!\n"
-
-
diff -ruN a/plugin/plugin.py b/plugin/plugin.py
--- a/plugin/plugin.py	2020-06-22 20:23:14.000000000 +0300
+++ b/plugin/plugin.py	2023-09-23 14:08:54.854587553 +0300
@@ -1,4 +1,4 @@
-from __future__ import print_function
+
 from . import _
 from Plugins.Plugin import PluginDescriptor
 from twisted.internet import reactor
@@ -57,7 +57,7 @@
 	def initConfig(self):
 		def getPrevValues(section):
 			res = { }
-			for (key, val) in section.content.items.items():
+			for (key, val) in list(section.content.items.items()):
 				if isinstance(val, ConfigSubsection):
 					res[key] = getPrevValues(val)
 				else:
@@ -104,7 +104,7 @@
 
 	def keyRed(self):
 		def setPrevValues(section, values):
-			for (key, val) in section.content.items.items():
+			for (key, val) in list(section.content.items.items()):
 				value = values.get(key, None)
 				if value is not None:
 					if isinstance(val, ConfigSubsection):
diff -ruN a/po/fr.po b/po/fr.po
--- a/po/fr.po	1970-01-01 03:00:00.000000000 +0300
+++ b/po/fr.po	2023-09-23 14:12:53.126299243 +0300
@@ -0,0 +1,70 @@
+# Language fr/LC translations for e package.
+# Copyright (C) 2018 THE e'S COPYRIGHT HOLDER
+# This file is distributed under the same license as the e package.
+# Automatically generated, 2018.
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: e 2openplugin-StreamInterface\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2018-07-30 09:15+0200\n"
+"PO-Revision-Date: 2018-07-30 13:44+0200\n"
+"Last-Translator: Automatically generated\n"
+"Language-Team: none\n"
+"Language: fr\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Generator: Poedit 2.1.1\n"
+
+#: ../plugin.py:34
+msgid "Cancel"
+msgstr "Annuler"
+
+#: ../plugin.py:83
+msgid ""
+"Create file any name.m3u --> write text 'http://your-ip-box:port/<current> "
+"or standby <current?tv|current?radio>'"
+msgstr ""
+"Créer n'importe quel nom de fichier.m3u --> écrire le texte 'http://your-"
+"ip-box:port/current ou en veille <current?tv|current?radio>'"
+
+#: ../plugin.py:68
+msgid "Http port"
+msgstr "Port HTTP"
+
+#: ../plugin.py:82
+msgid "Open browser --> set url 'http://your-ip-box:port'"
+msgstr "Ouvrir le navigateur --> définir l'url 'http://your-ip-box:port'"
+
+#: ../plugin.py:35
+msgid "Save/OK"
+msgstr "Enregistrer/OK"
+
+#: ../plugin.py:236
+msgid "Set port and type streaming"
+msgstr "Définir le port et le type de streaming"
+
+#: ../plugin.py:32 ../plugin.py:235
+msgid "Setup StreamInterface"
+msgstr "Configurer StreamInterface"
+
+#: ../plugin.py:67
+msgid "StreamInterface enabled"
+msgstr "StreamInterface activé"
+
+#: ../plugin.py:69
+msgid "Type stream for services"
+msgstr "Type de flux pour les services"
+
+#: ../plugin.py:17
+msgid "both"
+msgstr "les deux"
+
+#: ../plugin.py:17
+msgid "bouquets/services lists"
+msgstr "listes bouquets/services"
+
+#: ../plugin.py:17
+msgid "current service"
+msgstr "service actuel"
diff -ruN a/po/lt.po b/po/lt.po
--- a/po/lt.po	1970-01-01 03:00:00.000000000 +0300
+++ b/po/lt.po	2023-09-23 14:13:11.962591699 +0300
@@ -0,0 +1,58 @@
+msgid ""
+msgstr ""
+"Project-Id-Version: StreamInterface\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2008-02-28 19:54+0100\n"
+"PO-Revision-Date: 2017-11-15 13:51+0200\n"
+"Language-Team: Vytenis P. vyteniui@gmail.com\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Last-Translator: Vytenis P. <vyteniui@gmail.com>\n"
+"Language: lt\n"
+"X-Generator: Poedit 2.0.4\n"
+"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && (n"
+"%100<10 || n%100>=20) ? 1 : 2);\n"
+"X-Poedit-SourceCharset: UTF-8\n"
+
+msgid "Cancel"
+msgstr "Atšaukti"
+
+msgid ""
+"Create file any name.m3u --> write text 'http://your-ip-box:port/<current> "
+"or standby <current?tv|current?radio>'"
+msgstr ""
+"Sukurkite faibą bet_koks.m3u --> įrašykite bandymui 'http://jūsų_imtuvo_IP:"
+"prievadas/<current> , arba budėjimo režime <current?tv|current?radio>'"
+
+msgid "Http port"
+msgstr "Http prievadas"
+
+msgid "Open browser --> set url 'http://your-ip-box:port'"
+msgstr ""
+"Atverkite naršyklę --> adresų juostoje įrašykite 'http://jūsų_imtuvo_IP:"
+"prievadas'"
+
+msgid "Save/OK"
+msgstr "Įrašyti/ОК"
+
+msgid "Set port and type streaming"
+msgstr "Transliacijos srauto prievadas ir tipas"
+
+msgid "Setup StreamInterface"
+msgstr "StreamInterface sąranka"
+
+msgid "StreamInterface enabled"
+msgstr "Įjungti StreamInterface"
+
+msgid "Type stream for services"
+msgstr "Transliacijos srauto tipas kanalams"
+
+msgid "both"
+msgstr "abu"
+
+msgid "bouquets/services lists"
+msgstr "bukietai/kanalų sąrašai"
+
+msgid "current service"
+msgstr "dabartinis kanalas"
diff -ruN a/po/ru.po b/po/ru.po
--- a/po/ru.po	1970-01-01 03:00:00.000000000 +0300
+++ b/po/ru.po	2023-09-23 14:13:29.894870000 +0300
@@ -0,0 +1,53 @@
+msgid ""
+msgstr ""
+"Project-Id-Version: \n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2008-02-28 19:54+0100\n"
+"PO-Revision-Date: 2015-09-14 22:56+0300\n"
+"Language-Team: LANGUAGE <Dima-73@inbox.lv>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Last-Translator: Dimitrij <Dima-73@inbox.lv>\n"
+"Language: ru_RU\n"
+"X-Generator: Poedit 1.8.4\n"
+
+msgid "Cancel"
+msgstr "Отмена"
+
+msgid ""
+"Create file any name.m3u --> write text 'http://your-ip-box:port/<current> "
+"or standby <current?tv|current?radio>'"
+msgstr ""
+"Создайте файл любое имя.m3u --> впишите тест 'http://айпи-ресивера:порт/"
+"<current> или в режиме ожидания <current?tv|current?radio>'"
+
+msgid "Http port"
+msgstr "Http порт"
+
+msgid "Open browser --> set url 'http://your-ip-box:port'"
+msgstr "Открыть браузер --> ввести url 'http://айпи-ресивера:порт'"
+
+msgid "Save/OK"
+msgstr "Сохранить/ОК"
+
+msgid "Set port and type streaming"
+msgstr "Установка порта и типа стриминга"
+
+msgid "Setup StreamInterface"
+msgstr "Настройки StreamInterface"
+
+msgid "StreamInterface enabled"
+msgstr "Включить StreamInterface"
+
+msgid "Type stream for services"
+msgstr "Тип стрима для сервисов"
+
+msgid "both"
+msgstr "оба типа"
+
+msgid "bouquets/services lists"
+msgstr "списки букеты/сервисы"
+
+msgid "current service"
+msgstr "текущий сервис"
diff -ruN a/po/StreamInterface.pot b/po/StreamInterface.pot
--- a/po/StreamInterface.pot	1970-01-01 03:00:00.000000000 +0300
+++ b/po/StreamInterface.pot	2020-06-22 20:23:14.000000000 +0300
@@ -0,0 +1,66 @@
+# SOME DESCRIPTIVE TITLE.
+# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
+# This file is distributed under the same license as the PACKAGE package.
+# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
+#
+#, fuzzy
+msgid ""
+msgstr ""
+"Project-Id-Version: PACKAGE VERSION\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2018-07-30 09:15+0200\n"
+"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
+"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
+"Language-Team: LANGUAGE <LL@li.org>\n"
+"Language: \n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+#: ../plugin.py:34
+msgid "Cancel"
+msgstr ""
+
+#: ../plugin.py:83
+msgid "Create file any name.m3u --> write text 'http://your-ip-box:port/<current> or standby <current?tv|current?radio>'"
+msgstr ""
+
+#: ../plugin.py:68
+msgid "Http port"
+msgstr ""
+
+#: ../plugin.py:82
+msgid "Open browser --> set url 'http://your-ip-box:port'"
+msgstr ""
+
+#: ../plugin.py:35
+msgid "Save/OK"
+msgstr ""
+
+#: ../plugin.py:236
+msgid "Set port and type streaming"
+msgstr ""
+
+#: ../plugin.py:32 ../plugin.py:235
+msgid "Setup StreamInterface"
+msgstr ""
+
+#: ../plugin.py:67
+msgid "StreamInterface enabled"
+msgstr ""
+
+#: ../plugin.py:69
+msgid "Type stream for services"
+msgstr ""
+
+#: ../plugin.py:17
+msgid "both"
+msgstr ""
+
+#: ../plugin.py:17
+msgid "bouquets/services lists"
+msgstr ""
+
+#: ../plugin.py:17
+msgid "current service"
+msgstr ""
diff -ruN a/po/updateallpo.sh b/po/updateallpo.sh
--- a/po/updateallpo.sh	1970-01-01 03:00:00.000000000 +0300
+++ b/po/updateallpo.sh	2020-06-22 20:23:14.000000000 +0300
@@ -0,0 +1,51 @@
+#!/bin/bash
+# Script to generate po files outside of the normal build process
+#  
+# Pre-requisite:
+# The following tools must be installed on your system and accessible from path
+# gawk, find, xgettext, gsed, python, msguniq, msgmerge, msgattrib, msgfmt, msginit
+#
+# Run this script from within the locale folder.
+#
+# Author: Pr2
+# Version: 1.0
+#
+Plugin=StreamInterface
+FilePath=/LC_MESSAGES/
+printf "Po files update/creation from script starting.\n"
+languages=($(ls -d ./*/ | gsed 's/\/$//g; s/.*\///g'))
+
+#
+# Arguments to generate the pot and po files are not retrieved from the Makefile.
+# So if parameters are changed in Makefile please report the same changes in this script.
+#
+
+printf "Creating temporary file $Plugin-py.pot\n"
+find -s -X .. -name "*.py" -exec xgettext --no-wrap -L Python --from-code=UTF-8 -kpgettext:1c,2 --add-comments="TRANSLATORS:" -d $Plugin -s -o $Plugin-py.pot {} \+
+gsed --in-place $Plugin-py.pot --expression=s/CHARSET/UTF-8/
+printf "Creating temporary file $Plugin-xml.pot\n"
+find -s -X .. -name "*.xml" -exec python xml2po.py {} \+ > $Plugin-xml.pot
+printf "Merging pot files to create: $Plugin.pot\n"
+cat $Plugin-py.pot $Plugin-xml.pot | msguniq --no-wrap -o $Plugin.pot -
+OLDIFS=$IFS
+IFS=" "
+for lang in "${languages[@]}" ; do
+	if [ -f $lang$FilePath$Plugin.po ]; then 
+		printf "Updating existing translation file %s.po\n" $lang
+		msgmerge --backup=none --no-wrap -s -U $lang$FilePath$Plugin.po $Plugin.pot && touch $lang$FilePath$Plugin.po
+		msgattrib --no-wrap --no-obsolete $lang$FilePath$Plugin.po -o $lang$FilePath$Plugin.po
+		msgfmt -o $lang$FilePath$Plugin.mo $lang$FilePath$Plugin.po
+	else
+		if [ ! -d $lang$FilePath ]; then
+			mkdir $lang$FilePath
+		fi
+		printf "New file created: %s, please add it to github before commit\n" $lang$FilePath$Plugin.po
+		msginit -l $lang$FilePath$Plugin.po -o $lang$FilePath$Plugin.po -i $Plugin.pot --no-translator
+		msgfmt -o $lang$FilePath$Plugin.mo $lang$FilePath$Plugin.po
+	fi
+done
+rm $Plugin-py.pot $Plugin-xml.pot
+IFS=$OLDIFS
+printf "Po files update/creation from script finished!\n"
+
+
diff -ruN a/setup.py b/setup.py
--- a/setup.py	2020-06-22 20:23:14.000000000 +0300
+++ b/setup.py	2023-09-23 14:11:02.404577344 +0300
@@ -7,7 +7,6 @@
        description = 'StreamInterface',
        package_dir = {pkg: 'plugin'},
        packages = [pkg],
-       package_data = {pkg: 
-           ['stream.png', 'locale/*/LC_MESSAGES/*.mo']},
+       package_data = {pkg: ['stream.png']},
        cmdclass = setup_translate.cmdclass, # for translation
       )
diff -ruN a/setup_translate.py b/setup_translate.py
--- a/setup_translate.py	2020-06-22 20:23:14.000000000 +0300
+++ b/setup_translate.py	2023-09-23 14:11:54.385386329 +0300
@@ -1,12 +1,15 @@
-from __future__ import print_function
+
 # Language extension for distutils Python scripts. Based on this concept:
 # http://wiki.maemo.org/Internationalize_a_Python_application
 from distutils import cmd
 from distutils.command.build import build as _build
+import glob
 import os
 
+
 class build_trans(cmd.Command):
 	description = 'Compile .po files into .mo files'
+
 	def initialize_options(self):
 		pass
 
@@ -14,25 +17,35 @@
 		pass
 
 	def run(self):
-		s = os.path.join('plugin', 'locale')
-		for lang in os.listdir(s):
-			lc = os.path.join(s, lang, 'LC_MESSAGES')
-			if os.path.isdir(lc):
-				for f in os.listdir(lc):
-					if f.endswith('.po'):
-						src = os.path.join(lc, f)
-						dest = os.path.join(lc, f[:-2] + 'mo')
-						print("Language compile %s -> %s" % (src, dest))
-						if os.system("msgfmt '%s' -o '%s'" % (src, dest)) != 0:
-							raise (Exception, "Failed to compile: " + src)
+		s = os.path.join('po')
+		lang_domains = glob.glob(os.path.join(s, '*.pot'))
+		if len(lang_domains):
+			for lang in os.listdir(s):
+				if lang.endswith('.po'):
+					plugin = os.path.join(s, lang)
+					lang = lang[:-3]
+					destdir = os.path.join('build', 'lib', 'Extensions',
+						'StreamInterface', 'locale', lang, 'LC_MESSAGES')
+					if not os.path.exists(destdir):
+						os.makedirs(destdir)
+					for lang_domain in lang_domains:
+						lang_domain = lang_domain.rsplit('/', 1)[1]
+						dest = os.path.join(destdir, lang_domain[:-3] + 'mo')
+						print("Language compile %s -> %s" % (plugin, dest))
+						if os.system("msgfmt '%s' -o '%s'" % (plugin, dest)) != 0:
+							raise Exception("Failed to compile: " + plugin)
+		else:
+			print("we got no domain -> no translation was compiled")
+
 
 class build(_build):
 	sub_commands = _build.sub_commands + [('build_trans', None)]
+
 	def run(self):
 		_build.run(self)
 
+
 cmdclass = {
 	'build': build,
 	'build_trans': build_trans,
 }
-
